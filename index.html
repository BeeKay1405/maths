<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Placeholder Landing - Math Love Quiz</title>
  <!-- MathJax for rendering equations -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding: 0;
      background: #f9f9f9;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    #quiz, #heartPlot {
      display: none;
    }
    input[type="text"] {
      padding: 8px;
      width: 60%;
      font-size: 1rem;
    }
    button {
      padding: 10px 20px;
      font-size: 1rem;
      margin-top: 10px;
      cursor: pointer;
      background: #e91e63;
      color: #fff;
      border: none;
      border-radius: 4px;
    }
    button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    canvas {
      border: 1px solid #ddd;
      margin-top: 20px;
    }
    .eq {
      margin: 10px 0;
      font-size: 1.2rem;
    }
  </style>
</head>
<body>
  <div id="landing" class="container">
    <h1>Placeholder Title</h1>
    <p>Placeholder intro text goes here.</p>
    <button id="startBtn">Let's Start</button>
  </div>

  <div id="quiz" class="container">
    <h2 id="questionText">Placeholder Question 1?</h2>
    <input type="text" id="answerInput" placeholder="Type your answer here">
    <br>
    <button id="submitBtn" disabled>Submit</button>

    <div class="eq">
      <strong>Current Answer:</strong> <span id="currentEq"></span>
    </div>
    <div class="eq">
      <strong>Overall Equation:</strong> <span id="overallEq"></span>
    </div>
  </div>

  <div id="heartPlot" class="container">
    <h2>You did it!</h2>
    <button id="plotBtn">Plot It</button>
    <canvas id="heartCanvas" width="400" height="400"></canvas>
  </div>

  <script>
    // Quiz logic
    const parts = [];
    const questions = [
      { text: 'Placeholder: What expression simplifies to x^2 + y^2 - 1?' },
      { text: 'Placeholder: What exponent multiplies the first part by 3?' },
      { text: 'Placeholder: What term is -x^2 y^3?' }
    ];
    let stage = 0;
    const landing = document.getElementById('landing');
    const quiz = document.getElementById('quiz');
    const heartPlot = document.getElementById('heartPlot');
    const startBtn = document.getElementById('startBtn');
    const questionText = document.getElementById('questionText');
    const answerInput = document.getElementById('answerInput');
    const submitBtn = document.getElementById('submitBtn');
    const currentEq = document.getElementById('currentEq');
    const overallEq = document.getElementById('overallEq');
    const plotBtn = document.getElementById('plotBtn');
    const canvas = document.getElementById('heartCanvas');
    const ctx = canvas.getContext('2d');

    startBtn.onclick = () => {
      landing.style.display = 'none';
      quiz.style.display = 'block';
      loadQuestion();
    };
    answerInput.oninput = () => {
      submitBtn.disabled = answerInput.value.trim() === '';
    };
    submitBtn.onclick = () => {
      const ans = answerInput.value.trim();
      parts.push(ans);
      currentEq.innerHTML = `\\(${ans}\\)`;
      const overall = parts.map(p => `(${p})`).join('');
      overallEq.innerHTML = `\\(${overall}\\)`;
      MathJax.typeset();
      stage++;
      answerInput.value = '';
      submitBtn.disabled = true;
      if (stage < questions.length) {
        loadQuestion();
      } else {
        // Done questions
        quiz.style.display = 'none';
        heartPlot.style.display = 'block';
      }
    };
    plotBtn.onclick = () => {
      plotHeart();
    };

    function loadQuestion() {
      questionText.textContent = questions[stage].text;
      currentEq.innerHTML = '';
      overallEq.innerHTML = parts.map(p => `(${p})`).join('');
      MathJax.typeset();
    }

    // Draw implicit heart: (x^2+y^2-1)^3 - x^2 y^3 = 0
    function plotHeart() {
      const W = canvas.width;
      const H = canvas.height;
      const scale = 1.5;
      const thresh = 0.02;
      ctx.clearRect(0,0,W,H);
      ctx.fillStyle = 'red';
      for (let i = 0; i < W; i++) {
        for (let j = 0; j < H; j++) {
          const x = (i / W) * 2 * scale - scale;
          const y = scale - (j / H) * 2 * scale;
          const f = Math.pow(x*x + y*y - 1, 3) - x*x * Math.pow(y, 3);
          if (Math.abs(f) < thresh) {
            ctx.fillRect(i, j, 1, 1);
          }
        }
      }
    }
  </script>
</body>
</html>
